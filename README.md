# 60-69

# 60. 認証と認可の違い
「認証（Authentication）」と「認可（Authorization）」の違い，およびWebサービスでどのように使い分けるかを調査し，200字程度でまとめよ．

「認証（Authentication）」とは、「あなたは誰ですか？」とユーザが本人であることを識別・検証するプロセスである。
IDやメールアドレスの確認、パスワードの確認、顔指紋認証といった、ユーザの特徴・持っていること・知っていることについての確認を行う。
「認可（Authorization）」とは、「（認証された）あなたは何ができますか？」と、認証されたユーザに権限があるかを確認して、アクセスできるリソースや操作範囲を決定するプロセスである。
例として管理者メニューへのアクセス許可などがある。
認証が通った後、認可によって利用範囲が決まるため、webサービスでは認証→認可の順で実施される。


# 61. セッションとクッキーの仕組み
セッションとクッキーの違い，Webサービスでの役割・仕組みを調査し，分かりやすく整理せよ．

HTTPはステートレスな(状態を保持しない)プロトコルであり、そのままでは同一ユーザの1つ目のリクエストから2つ目のリクエストへ情報を引き継げないため、セッションという仕組みを使って同一ブラウザからの一連のリクエスト間で「状態」を共有する。
そのセッションIDを管理する方法の1つとして挙げられるのがクッキー。

クッキーは、サーバがユーザのブラウザに小さなデータを保存させる仕組みで、そのデータはユーザのブラウザ(クライアント側)に保存される。
ここでいう小さいデータとはユーザID、ログイン状態を示すトークン、言語設定、テーマ設定、トラッキング用ID（広告など）などである。

一方で、セッションは、サーバ側でユーザの属性や状態を一時的に管理する仕組みであり、サーバ側のメモリやデータベースに保存される。
具体的には、ログイン中かどうか、ログインユーザのID、カートの中身、一時的な操作状態を管理する。

セッション自体はサーバにあるが、「どのセッションか」を識別するための セッションID が必要で、そのセッションIDをクッキーに入れて管理する。
クッキーはブラウザに保存されるデータ入れであり、セッションはサーバに保存されるユーザの状態そのものである。クッキーにセッションIDを入れて、セッションを参照する。


項目       	 |  クッキー   | 	セッション
保存場所   	 |  ブラウザ   |	    サーバ
保存期間	     |  設定次第   |  一時的
保存できる量	 |  少ない	    |  比較的多い
改ざん耐性	   |   弱い      |     強い
主な役割	     |識別情報の保持| 状態管理





# 62. パスワードの安全な保存
生パスワード保存の危険性と，ハッシュ化（例：bcrypt, scrypt, pbkdf2等）の意義を調査・整理せよ．


# 63. ユーザ登録API
ユーザ名とパスワードを受け取り，パスワードをハッシュ化してデータベースに登録するAPIを実装せよ．


# 64. ログインAPI
ユーザ名とパスワードでログインを受け付け，パスワードの照合（ハッシュ値の検証）を行い，結果を返すAPIを実装せよ．


# 65. セッション管理
express-session等のミドルウェアを使い，ログイン後にセッション情報を保持し，認証済みユーザのみがアクセスできるAPIエンドポイントを設けよ．


# 66. クッキーを利用したセッション管理
クッキーの仕組みを使い，セッションIDなどがクライアントに安全に保存されていることを確認せよ．
必要に応じてクッキーの属性（Secure, HttpOnly等）を調査すること．
